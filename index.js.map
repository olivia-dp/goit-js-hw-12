{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default fetchData;\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst params = new URLSearchParams ({\n    key: \"46809493-025d46e6636e036ef2e71f554\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n\n});\n\nfunction fetchData (imgName) {\n    params.set(\"q\", imgName);\n   return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error(response.statusText)\n            }\n\n            return response.json();\n              \n        })\n    }\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nexport default createMarkup;\n\nfunction createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        \n        <li class=\"img-card\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=360 height=200></a>\n           <div class=\"text-container\">\n           <p class=\"text\">Likes:</br>${likes}</p>\n                <p class=\"text\">Downloads:</br>${downloads}</p>\n                <p class=\"text\">Views:</br>${views}</p>\n                <p class=\"text\">Comments:</br>${comments}</p>\n           </div></li>`).join(\"\");\n}\n\n\nconst lightbox = new SimpleLightbox ('.img-card a', {\n    captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n  widthRatio: 0.9,\n  heigtRatio: 0.9,\n})\n\nexport {lightbox}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport  fetchData from \"./js/pixabay-api\";\nimport createMarkup from \"./js/render-functions\";\nimport { lightbox } from \"./js/render-functions\";\n\n\nconst form = document.querySelector(\".search-form\");\nconst imgList = document.querySelector(\".img-list\");\nconst loader = document.querySelector(\".span\")\n\n\n\nform.addEventListener(\"submit\", imgSearch);\n\nfunction imgSearch (event) {\n    event.preventDefault();\n    imgList.innerHTML = '';\n    const imgName = event.target.elements.imgname.value.trim();\n    if(imgName === \"\") {\n        iziToast.show({\n            title: 'Please,',\n            message: 'fill the field',\n            titleColor: '#fff',\n            messageColor: '#fff',\n            messageSize: '16px',\n            backgroundColor: '#ef4040',\n            position: \"center\",\n        })\n    }\n    else {\n        \n        loader.classList.add(\"loader\");\n        fetchData(imgName)\n    .then(data => {\n        if (data.hits.length === 0) {\n            iziToast.show({\n                title: 'Sorry,',\n                message: 'there are no images matching your search query. Please try again!',\n                titleColor: '#fff',\n                messageColor: '#fff',\n                messageSize: '16px',\n                backgroundColor: '#ef4040',\n                position: \"center\",\n            })\n        }\n            imgList.innerHTML = createMarkup(data.hits);\n            form.reset();\n            lightbox.refresh();\n            \n    })\n    .catch((error) => iziToast.show({\n        message: 'Error',\n        titleColor: '#fff',\n        messageColor: '#fff',\n        messageSize: '16px',\n        backgroundColor: '#ef4040',\n        position: \"center\",\n    }))\n    .finally(() => loader.classList.remove(\"loader\"))\n      \n}}\n\n\n"],"names":["BASE_URL","params","fetchData","imgName","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","form","imgList","loader","imgSearch","event","iziToast","data","error"],"mappings":"6vBAEA,MAAMA,EAAW,2BACXC,EAAS,IAAI,gBAAiB,CAChC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEhB,CAAC,EAED,SAASC,EAAWC,EAAS,CACzB,OAAAF,EAAO,IAAI,IAAKE,CAAO,EACjB,MAAM,GAAGH,CAAQ,IAAIC,CAAM,EAAE,EAC9B,KAAKG,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,MAE5B,CAAS,CACT,CCnBA,SAASC,EAAaC,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,4CAGpDL,CAAa,2BAA2BD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEtEC,CAAK;AAAA,iDACIG,CAAS;AAAA,6CACbF,CAAK;AAAA,gDACFC,CAAQ;AAAA,uBACjC,EAAE,KAAK,EAAE,CAChC,CAGA,MAAME,EAAW,IAAIC,EAAgB,cAAe,CAChD,aAAc,MAChB,aAAc,IACd,eAAgB,GAChB,WAAY,GACZ,WAAY,EACd,CAAC,ECdKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,OAAO,EAI7CF,EAAK,iBAAiB,SAAUG,CAAS,EAEzC,SAASA,EAAWC,EAAO,CACvBA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpB,MAAMd,EAAUiB,EAAM,OAAO,SAAS,QAAQ,MAAM,OACjDjB,IAAY,GACXkB,EAAS,KAAK,CACV,MAAO,UACP,QAAS,iBACT,WAAY,OACZ,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,SAAU,QACtB,CAAS,GAIDH,EAAO,UAAU,IAAI,QAAQ,EAC7BhB,EAAUC,CAAO,EACpB,KAAKmB,GAAQ,CACNA,EAAK,KAAK,SAAW,GACrBD,EAAS,KAAK,CACV,MAAO,SACP,QAAS,oEACT,WAAY,OACZ,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,SAAU,QAC1B,CAAa,EAEDJ,EAAQ,UAAYZ,EAAaiB,EAAK,IAAI,EAC1CN,EAAK,MAAK,EACVF,EAAS,QAAO,CAE5B,CAAK,EACA,MAAOS,GAAUF,EAAS,KAAK,CAC5B,QAAS,QACT,WAAY,OACZ,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,SAAU,QAClB,CAAK,CAAC,EACD,QAAQ,IAAMH,EAAO,UAAU,OAAO,QAAQ,CAAC,EAEnD"}